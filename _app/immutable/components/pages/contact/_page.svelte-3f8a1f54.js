import{S as te,i as se,s as ne,k as v,l as h,n as y,b as k,M as X,K as Y,B as $,h as o,N as me,O as R,m as E,e as fe,t as S,d as ge,f as N,F as ce,g as be,q as Z,r as F,E as m,u as ye,P as W,a as L,w as j,c as z,x as B,y as C,Q as ee,z as J}from"../../../chunks/index-9b2bc790.js";import{w as pe}from"../../../chunks/index-9dcb087d.js";import{B as Ee}from"../../../chunks/Button-0608bccc.js";import{L as ke}from"../../../chunks/LoadingSpinner-bb846d10.js";function $e(a){const e=pe(null),t=pe(!1);async function n(s){e.set(null),t.set(!0);try{const u=JSON.stringify(s),f=await(await fetch(a,{method:"POST",body:u})).json();console.log("POST result",f)}catch(u){e.set(typeof u=="object"?u:{err:u})}t.set(!1)}return{error:e,isLoading:t,post:n}}function Pe(a){let e,t,n;return{c(){e=v("input"),this.h()},l(s){e=h(s,"INPUT",{class:!0}),this.h()},h(){y(e,"class","input svelte-1mbqnzc")},m(s,u){k(s,e,u),X(e,a[0]),a[3](e),t||(n=[Y(e,"input",a[2]),Y(e,"focus",a[4])],t=!0)},p(s,[u]){u&1&&e.value!==s[0]&&X(e,s[0])},i:$,o:$,d(s){s&&o(e),a[3](null),t=!1,me(n)}}}function qe(a,e,t){let n,{value:s}=e;function u(){s=this.value,t(0,s)}function i(l){R[l?"unshift":"push"](()=>{n=l,t(1,n)})}const f=()=>t(0,s="");return a.$$set=l=>{"value"in l&&t(0,s=l.value)},[s,n,u,i,f]}class _e extends te{constructor(e){super(),se(this,e,qe,Pe,ne,{value:0})}}function we(a){let e,t,n;return{c(){e=v("textarea"),this.h()},l(s){e=h(s,"TEXTAREA",{class:!0}),E(e).forEach(o),this.h()},h(){y(e,"class","textarea svelte-1ecnb6n")},m(s,u){k(s,e,u),X(e,a[0]),a[3](e),t||(n=[Y(e,"input",a[2]),Y(e,"focus",a[4])],t=!0)},p(s,[u]){u&1&&X(e,s[0])},i:$,o:$,d(s){s&&o(e),a[3](null),t=!1,me(n)}}}function xe(a,e,t){let n,{value:s}=e;function u(){s=this.value,t(0,s)}function i(l){R[l?"unshift":"push"](()=>{n=l,t(1,n)})}const f=()=>t(0,s="");return a.$$set=l=>{"value"in l&&t(0,s=l.value)},[s,n,u,i,f]}class Ie extends te{constructor(e){super(),se(this,e,xe,we,ne,{value:0})}}const Te=a=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a).toLowerCase());function Se(a){let e,t;return{c(){e=v("p"),t=Z(a[3]),this.h()},l(n){e=h(n,"P",{class:!0});var s=E(e);t=F(s,a[3]),s.forEach(o),this.h()},h(){y(e,"class","info svelte-1a5255q")},m(n,s){k(n,e,s),m(e,t)},p(n,s){s&8&&ye(t,n[3])},i:$,o:$,d(n){n&&o(e)}}}function Ne(a){let e,t,n,s,u,i,f,l,c,d,D,q,g,O,A,b,p,V,G,P,H,K,w,x,Q;function de(r){a[9](r)}let ae={};a[1]!==void 0&&(ae.value=a[1]),i=new _e({props:ae}),R.push(()=>W(i,"value",de,a[1]));function ve(r){a[10](r)}let le={};a[0]!==void 0&&(le.value=a[0]),g=new _e({props:le}),R.push(()=>W(g,"value",ve,a[0]));function he(r){a[11](r)}let re={};return a[2]!==void 0&&(re.value=a[2]),P=new Ie({props:re}),R.push(()=>W(P,"value",he,a[2])),x=new Ee({props:{label:"submit",secondary:!0,onClick:a[8]}}),{c(){e=v("div"),t=v("div"),n=v("p"),s=Z("Name"),u=L(),j(i.$$.fragment),l=L(),c=v("div"),d=v("p"),D=Z("Email"),q=L(),j(g.$$.fragment),A=L(),b=v("div"),p=v("p"),V=Z("Message"),G=L(),j(P.$$.fragment),K=L(),w=v("div"),j(x.$$.fragment),this.h()},l(r){e=h(r,"DIV",{class:!0});var _=E(e);t=h(_,"DIV",{class:!0});var I=E(t);n=h(I,"P",{class:!0});var M=E(n);s=F(M,"Name"),M.forEach(o),u=z(I),B(i.$$.fragment,I),I.forEach(o),l=z(_),c=h(_,"DIV",{class:!0});var T=E(c);d=h(T,"P",{class:!0});var ue=E(d);D=F(ue,"Email"),ue.forEach(o),q=z(T),B(g.$$.fragment,T),T.forEach(o),_.forEach(o),A=z(r),b=h(r,"DIV",{class:!0});var U=E(b);p=h(U,"P",{class:!0});var ie=E(p);V=F(ie,"Message"),ie.forEach(o),G=z(U),B(P.$$.fragment,U),U.forEach(o),K=z(r),w=h(r,"DIV",{class:!0});var oe=E(w);B(x.$$.fragment,oe),oe.forEach(o),this.h()},h(){y(n,"class","svelte-1a5255q"),y(t,"class","input-field svelte-1a5255q"),y(d,"class","svelte-1a5255q"),y(c,"class","input-field svelte-1a5255q"),y(e,"class","input-field-box svelte-1a5255q"),y(p,"class","svelte-1a5255q"),y(b,"class","text-area-box svelte-1a5255q"),y(w,"class","button-box svelte-1a5255q")},m(r,_){k(r,e,_),m(e,t),m(t,n),m(n,s),m(t,u),C(i,t,null),m(e,l),m(e,c),m(c,d),m(d,D),m(c,q),C(g,c,null),k(r,A,_),k(r,b,_),m(b,p),m(p,V),m(b,G),C(P,b,null),k(r,K,_),k(r,w,_),C(x,w,null),Q=!0},p(r,_){const I={};!f&&_&2&&(f=!0,I.value=r[1],ee(()=>f=!1)),i.$set(I);const M={};!O&&_&1&&(O=!0,M.value=r[0],ee(()=>O=!1)),g.$set(M);const T={};!H&&_&4&&(H=!0,T.value=r[2],ee(()=>H=!1)),P.$set(T)},i(r){Q||(N(i.$$.fragment,r),N(g.$$.fragment,r),N(P.$$.fragment,r),N(x.$$.fragment,r),Q=!0)},o(r){S(i.$$.fragment,r),S(g.$$.fragment,r),S(P.$$.fragment,r),S(x.$$.fragment,r),Q=!1},d(r){r&&o(e),J(i),J(g),r&&o(A),r&&o(b),J(P),r&&o(K),r&&o(w),J(x)}}}function Ae(a){let e,t=JSON.stringify(a[6],null,4)+"",n;return{c(){e=v("pre"),n=Z(t)},l(s){e=h(s,"PRE",{});var u=E(e);n=F(u,t),u.forEach(o)},m(s,u){k(s,e,u),m(e,n)},p:$,i:$,o:$,d(s){s&&o(e)}}}function Le(a){let e,t;return e=new ke({}),{c(){j(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,s){C(e,n,s),t=!0},p:$,i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function ze(a){let e,t,n,s;const u=[Le,Ae,Ne,Se],i=[];function f(l,c){return l[4]?0:l[5]!==null?1:l[3]?3:2}return e=f(a),t=i[e]=u[e](a),{c(){t.c(),n=fe()},l(l){t.l(l),n=fe()},m(l,c){i[e].m(l,c),k(l,n,c),s=!0},p(l,[c]){let d=e;e=f(l),e===d?i[e].p(l,c):(be(),S(i[d],1,1,()=>{i[d]=null}),ge(),t=i[e],t?t.p(l,c):(t=i[e]=u[e](l),t.c()),N(t,1),t.m(n.parentNode,n))},i(l){s||(N(t),s=!0)},o(l){S(t),s=!1},d(l){i[e].d(l),l&&o(n)}}}function De(a,e,t){let n,s,u="",i="",f="",l="";const{error:c,isLoading:d,post:D}=$e("https://5o2bjifmql.execute-api.us-east-1.amazonaws.com/dev/email/send");ce(a,c,p=>t(5,s=p)),ce(a,d,p=>t(4,n=p));const q=(p,V)=>{t(3,l=p),setTimeout(()=>{t(3,l="")},1e3*V)},g=()=>{if(!i){q("Please enter a name.",4);return}if(!Te(u)){q("Please enter a valid email address.",4);return}if(!f){q("Please enter a message.",4);return}D({name:i,email:u,content:f,page:"looneys"}).then(()=>{q("Your message has been send!",15),t(0,u=""),t(1,i=""),t(2,f="")})};function O(p){i=p,t(1,i)}function A(p){u=p,t(0,u)}function b(p){f=p,t(2,f)}return[u,i,f,l,n,s,c,d,g,O,A,b]}class Be extends te{constructor(e){super(),se(this,e,De,ze,ne,{})}}export{Be as default};

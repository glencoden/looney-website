import{S as te,i as se,s as ne,k as b,l as $,n as E,b as w,N as X,K as Y,B as P,h as f,O as me,P as J,m as k,w as D,a as T,x as O,c as N,y as q,t as I,d as he,f as S,z as j,F as fe,g as be,q as Z,r as F,E as g,u as $e,Q as W,R as ee}from"../../../chunks/index-8c09f633.js";import{w as pe}from"../../../chunks/index-0a2a0999.js";import{B as ye}from"../../../chunks/Button-755323a6.js";import{L as Ee}from"../../../chunks/LoadingSpinner-ab6e7ea4.js";import{V as ce}from"../../../chunks/VerticalSpacer-c6b6b64b.js";function ke(a){const e=pe(null),n=pe(!1);async function s(t){e.set(null),n.set(!0);try{const r=JSON.stringify(t),p=await(await fetch(a,{method:"POST",body:r})).json();console.log("POST result",p)}catch(r){e.set(typeof r=="object"?r:{err:r})}n.set(!1)}return{error:e,isLoading:n,post:s}}function we(a){let e,n,s;return{c(){e=b("input"),this.h()},l(t){e=$(t,"INPUT",{class:!0}),this.h()},h(){E(e,"class","input svelte-1mbqnzc")},m(t,r){w(t,e,r),X(e,a[0]),a[3](e),n||(s=[Y(e,"input",a[2]),Y(e,"focus",a[4])],n=!0)},p(t,[r]){r&1&&e.value!==t[0]&&X(e,t[0])},i:P,o:P,d(t){t&&f(e),a[3](null),n=!1,me(s)}}}function Pe(a,e,n){let s,{value:t}=e;function r(){t=this.value,n(0,t)}function i(o){J[o?"unshift":"push"](()=>{s=o,n(1,s)})}const p=()=>n(0,t="");return a.$$set=o=>{"value"in o&&n(0,t=o.value)},[t,s,r,i,p]}class _e extends te{constructor(e){super(),se(this,e,Pe,we,ne,{value:0})}}function xe(a){let e,n,s;return{c(){e=b("textarea"),this.h()},l(t){e=$(t,"TEXTAREA",{class:!0}),k(e).forEach(f),this.h()},h(){E(e,"class","textarea svelte-1ecnb6n")},m(t,r){w(t,e,r),X(e,a[0]),a[3](e),n||(s=[Y(e,"input",a[2]),Y(e,"focus",a[4])],n=!0)},p(t,[r]){r&1&&X(e,t[0])},i:P,o:P,d(t){t&&f(e),a[3](null),n=!1,me(s)}}}function Ie(a,e,n){let s,{value:t}=e;function r(){t=this.value,n(0,t)}function i(o){J[o?"unshift":"push"](()=>{s=o,n(1,s)})}const p=()=>n(0,t="");return a.$$set=o=>{"value"in o&&n(0,t=o.value)},[t,s,r,i,p]}class Se extends te{constructor(e){super(),se(this,e,Ie,xe,ne,{value:0})}}const Te=a=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a).toLowerCase());function Ne(a){let e,n;return{c(){e=b("p"),n=Z(a[3]),this.h()},l(s){e=$(s,"P",{class:!0});var t=k(e);n=F(t,a[3]),t.forEach(f),this.h()},h(){E(e,"class","info svelte-lde5ar")},m(s,t){w(s,e,t),g(e,n)},p(s,t){t&8&&$e(n,s[3])},i:P,o:P,d(s){s&&f(e)}}}function Ve(a){let e,n,s,t,r,i,p,o,c,h,l,_,d,C,B,y,m,M,G,x,H,K,V,A,Q;function de(u){a[9](u)}let ae={};a[1]!==void 0&&(ae.value=a[1]),i=new _e({props:ae}),J.push(()=>W(i,"value",de,a[1]));function ve(u){a[10](u)}let re={};a[0]!==void 0&&(re.value=a[0]),d=new _e({props:re}),J.push(()=>W(d,"value",ve,a[0]));function ge(u){a[11](u)}let le={};return a[2]!==void 0&&(le.value=a[2]),x=new Se({props:le}),J.push(()=>W(x,"value",ge,a[2])),A=new ye({props:{label:"submit",secondary:!0,onClick:a[8]}}),{c(){e=b("div"),n=b("div"),s=b("p"),t=Z("Name"),r=T(),D(i.$$.fragment),o=T(),c=b("div"),h=b("p"),l=Z("Email"),_=T(),D(d.$$.fragment),B=T(),y=b("div"),m=b("p"),M=Z("Message"),G=T(),D(x.$$.fragment),K=T(),V=b("div"),D(A.$$.fragment),this.h()},l(u){e=$(u,"DIV",{class:!0});var v=k(e);n=$(v,"DIV",{class:!0});var L=k(n);s=$(L,"P",{class:!0});var R=k(s);t=F(R,"Name"),R.forEach(f),r=N(L),O(i.$$.fragment,L),L.forEach(f),o=N(v),c=$(v,"DIV",{class:!0});var z=k(c);h=$(z,"P",{class:!0});var ue=k(h);l=F(ue,"Email"),ue.forEach(f),_=N(z),O(d.$$.fragment,z),z.forEach(f),v.forEach(f),B=N(u),y=$(u,"DIV",{class:!0});var U=k(y);m=$(U,"P",{class:!0});var ie=k(m);M=F(ie,"Message"),ie.forEach(f),G=N(U),O(x.$$.fragment,U),U.forEach(f),K=N(u),V=$(u,"DIV",{class:!0});var oe=k(V);O(A.$$.fragment,oe),oe.forEach(f),this.h()},h(){E(s,"class","svelte-lde5ar"),E(n,"class","input-field svelte-lde5ar"),E(h,"class","svelte-lde5ar"),E(c,"class","input-field svelte-lde5ar"),E(e,"class","input-field-box svelte-lde5ar"),E(m,"class","svelte-lde5ar"),E(y,"class","text-area-box svelte-lde5ar"),E(V,"class","button-box svelte-lde5ar")},m(u,v){w(u,e,v),g(e,n),g(n,s),g(s,t),g(n,r),q(i,n,null),g(e,o),g(e,c),g(c,h),g(h,l),g(c,_),q(d,c,null),w(u,B,v),w(u,y,v),g(y,m),g(m,M),g(y,G),q(x,y,null),w(u,K,v),w(u,V,v),q(A,V,null),Q=!0},p(u,v){const L={};!p&&v&2&&(p=!0,L.value=u[1],ee(()=>p=!1)),i.$set(L);const R={};!C&&v&1&&(C=!0,R.value=u[0],ee(()=>C=!1)),d.$set(R);const z={};!H&&v&4&&(H=!0,z.value=u[2],ee(()=>H=!1)),x.$set(z)},i(u){Q||(S(i.$$.fragment,u),S(d.$$.fragment,u),S(x.$$.fragment,u),S(A.$$.fragment,u),Q=!0)},o(u){I(i.$$.fragment,u),I(d.$$.fragment,u),I(x.$$.fragment,u),I(A.$$.fragment,u),Q=!1},d(u){u&&f(e),j(i),j(d),u&&f(B),u&&f(y),j(x),u&&f(K),u&&f(V),j(A)}}}function Ae(a){let e,n=JSON.stringify(a[6],null,4)+"",s;return{c(){e=b("pre"),s=Z(n)},l(t){e=$(t,"PRE",{});var r=k(e);s=F(r,n),r.forEach(f)},m(t,r){w(t,e,r),g(e,s)},p:P,i:P,o:P,d(t){t&&f(e)}}}function Le(a){let e,n;return e=new Ee({}),{c(){D(e.$$.fragment)},l(s){O(e.$$.fragment,s)},m(s,t){q(e,s,t),n=!0},p:P,i(s){n||(S(e.$$.fragment,s),n=!0)},o(s){I(e.$$.fragment,s),n=!1},d(s){j(e,s)}}}function ze(a){let e,n,s,t,r,i,p;e=new ce({});const o=[Le,Ae,Ve,Ne],c=[];function h(l,_){return l[4]?0:l[5]!==null?1:l[3]?3:2}return s=h(a),t=c[s]=o[s](a),i=new ce({}),{c(){D(e.$$.fragment),n=T(),t.c(),r=T(),D(i.$$.fragment)},l(l){O(e.$$.fragment,l),n=N(l),t.l(l),r=N(l),O(i.$$.fragment,l)},m(l,_){q(e,l,_),w(l,n,_),c[s].m(l,_),w(l,r,_),q(i,l,_),p=!0},p(l,[_]){let d=s;s=h(l),s===d?c[s].p(l,_):(be(),I(c[d],1,1,()=>{c[d]=null}),he(),t=c[s],t?t.p(l,_):(t=c[s]=o[s](l),t.c()),S(t,1),t.m(r.parentNode,r))},i(l){p||(S(e.$$.fragment,l),S(t),S(i.$$.fragment,l),p=!0)},o(l){I(e.$$.fragment,l),I(t),I(i.$$.fragment,l),p=!1},d(l){j(e,l),l&&f(n),c[s].d(l),l&&f(r),j(i,l)}}}function De(a,e,n){let s,t,r="",i="",p="",o="";const{error:c,isLoading:h,post:l}=ke("https://5o2bjifmql.execute-api.us-east-1.amazonaws.com/dev/email/send");fe(a,c,m=>n(5,t=m)),fe(a,h,m=>n(4,s=m));const _=(m,M)=>{n(3,o=m),setTimeout(()=>{n(3,o="")},1e3*M)},d=()=>{if(!i){_("Please enter a name.",4);return}if(!Te(r)){_("Please enter a valid email address.",4);return}if(!p){_("Please enter a message.",4);return}l({name:i,email:r,content:p,page:"looneys"}).then(()=>{_("Your message has been sent!",15),n(0,r=""),n(1,i=""),n(2,p="")})};function C(m){i=m,n(1,i)}function B(m){r=m,n(0,r)}function y(m){p=m,n(2,p)}return[r,i,p,o,s,t,c,h,d,C,B,y]}class Me extends te{constructor(e){super(),se(this,e,De,ze,ne,{})}}export{Me as default};
